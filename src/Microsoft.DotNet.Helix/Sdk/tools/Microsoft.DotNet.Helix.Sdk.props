<!-- Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. -->
<Project>

  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="'$(MicrosoftCommonPropsHasBeenImported)' != 'true'" />

  <!-- Import the BundledVersions.props file from SDK to light-up Runtime="NET" task support.
       Only import when NETCoreSdkBundledVersionsProps is not defined (non SDK style projects).
       Remove when https://github.com/dotnet/msbuild/issues/12895 is implemented. -->
  <Import Sdk="Microsoft.NET.Sdk" Project="Sdk.BundledVersions.props" Condition="'$(NETCoreSdkBundledVersionsProps)' == ''" />
  <!-- Set required RuntimeIdentifierGraphPath property for Runtime="NET" support. Remove when
       a desktop msbuild (via VS) with https://github.com/dotnet/msbuild/pull/13176 is consumed. -->
  <PropertyGroup Condition="'$(UsingMicrosoftNETSdk)' != 'true'">
    <RuntimeIdentifierGraphPath>$(BundledRuntimeIdentifierGraphFile)</RuntimeIdentifierGraphPath>
  </PropertyGroup>

  <PropertyGroup>
    <MicrosoftDotNetHelixSdkTasksAssembly Condition="'$(MicrosoftDotNetHelixSdkTasksAssembly)' == ''">$(MSBuildThisFileDirectory)net/Microsoft.DotNet.Helix.Sdk.dll</MicrosoftDotNetHelixSdkTasksAssembly>
    <MicrosoftDotNetHelixSdkTasksFactory Condition="'$(MicrosoftDotNetHelixSdkTasksFactory)' == ''">AssemblyTaskFactory</MicrosoftDotNetHelixSdkTasksFactory>
    <NETCORE_ENGINEERING_TELEMETRY>Helix</NETCORE_ENGINEERING_TELEMETRY>
  </PropertyGroup>

  <UsingTask TaskName="SendHelixJob" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="WaitForHelixJobCompletion" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CheckHelixJobStatus" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="FindDotNetCliPackage" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="GetHelixWorkItems" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CreateXUnitWorkItems" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CreateXHarnessAndroidWorkItems" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CreateXHarnessAppleWorkItems" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CreateTestsForWorkItems" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="StartAzurePipelinesTestRun" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="StopAzurePipelinesTestRun" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CheckAzurePipelinesTestResults" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="DownloadFromResultsContainer" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="CancelHelixJobs" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />
  <UsingTask TaskName="InstallDotNetTool" AssemblyFile="$(MicrosoftDotNetHelixSdkTasksAssembly)" Runtime="NET" TaskFactory="$(MicrosoftDotNetHelixSdkTasksFactory)" />

</Project>
