<!-- Copyright (c) .NET Foundation. All rights reserved. -->
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <_PackagingCommonTargetsImported>true</_PackagingCommonTargetsImported>
  </PropertyGroup>

  <PropertyGroup>
    <_TaskLibraryDir Condition="'$(RunningOnCore)' == 'true'">$(MSBuildThisFileDirectory)netstandard2.0/</_TaskLibraryDir>
    <_TaskLibraryDir Condition="'$(RunningOnCore)' != 'true'">$(MSBuildThisFileDirectory)net46/</_TaskLibraryDir>
    <RuntimeIdGraphDefinitionFile Condition="'$(RuntimeIdGraphDefinitionFile)' == '' AND Exists('$(ProjectDir)pkg/Microsoft.NETCore.Platforms/runtime.json')">$(ProjectDir)pkg/Microsoft.NETCore.Platforms/runtime.json</RuntimeIdGraphDefinitionFile>
    <RuntimeIdGraphDefinitionFile Condition="'$(RuntimeIdGraphDefinitionFile)' == ''">$(MSBuildThisFileDirectory)runtime.json</RuntimeIdGraphDefinitionFile>

    <PackageOutputPath Condition="'$(PackageOutputPath)' == ''">$(BaseOutputPath)pkg/</PackageOutputPath>
    <PackageReportDir Condition="'$(PackageReportDir)' == ''">$(PackageOutputPath)reports/</PackageReportDir>
  </PropertyGroup>

  <PropertyGroup Condition="'$(PackageTargetRuntimeSuffix)' != ''">
    <PackageTargetRuntime Condition="'$(PackageTargetRuntime)' != ''">$(PackageTargetRuntime)-$(PackageTargetRuntimeSuffix)</PackageTargetRuntime>
    <PackageTargetRuntime Condition="'$(PackageTargetRuntime)' == ''">$(PackageTargetRuntimeSuffix)</PackageTargetRuntime>
  </PropertyGroup>

  <UsingTask TaskName="ApplyBaseLine" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="ApplyMetaPackages" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="ApplyPreReleaseSuffix" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="CreateTrimDependencyGroups" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="FilterUnknownPackages" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GenerateNuSpec" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GeneratePackageReport" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GenerateRuntimeGraph" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GenerateRuntimeDependencies" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetApplicableAssetsFromPackages" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetAssemblyReferences" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetInboxFrameworks" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetLastStablePackage" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetMinimumNETStandard" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetPackageDescription" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetPackageDestination" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetPackageFromModule" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetPackageVersion" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="HarvestPackage" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="NuGetPack" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="PromoteDependencies" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="SplitDependenciesBySupport" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="SplitReferences" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="UpdatePackageIndex" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="ValidatePackage" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="ValidateFrameworkPackage" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="VerifyClosure" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="VerifyTypes" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
  <UsingTask TaskName="GetSupportedPackagesFromPackageReports" AssemblyFile="$(_TaskLibraryDir)Microsoft.DotNet.Build.Tasks.Packaging.dll"/>
</Project>
